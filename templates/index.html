<!DOCTYPE html>
<html>
<head>
    <title>Kitchen Order App</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet">
      <style>
        /* Master inventory list readability */
        .master-list .list-group-item {
            white-space: normal;           /* allow wrap */
            word-break: break-word;
            line-height: 1.4;
        }

        .master-list .file-name {
            font-size: 14px;
            font-weight: 500;
        }

        .master-list .file-time {
            font-size: 12px;
            color: #6c757d;
        }

        /* Mobile spacing */
        @media (max-width: 768px) {
            .master-list .list-group-item {
                padding: 12px;
            }

            .master-list .btn {
                width: 100%;
                margin-top: 8px;
            }
        }

      </style>
</head>

<body class="bg-light">

<div class="container mt-5">
    <div class="card shadow-sm">
        <div class="card-body">

            <h4 class="mb-4 text-center">
                Upload Kitchen Inventory Excel
            </h4>

            <form method="POST" enctype="multipart/form-data">
                <div class="mb-3">
                    <input
                        type="file"
                        class="form-control"
                        name="file"
                        accept=".xlsx"
                        required>
                </div>

                <button class="btn btn-primary w-100">
                    Upload
                </button>
            </form>
            {% if master_files %}
            <div class="card mt-4 master-list">
                <div class="card-header fw-bold">
                    ðŸ“‹ Master Inventory Drafts (Boss Access)
                </div>

                <ul class="list-group list-group-flush">
                    {% for f in master_files %}
                    <li class="list-group-item d-flex justify-content-between align-items-start flex-wrap">

                        <div class="me-2">
                            {% if loop.index0 == 0 %}
                                <span class="badge bg-success mb-1">Latest</span><br>
                            {% endif %}

                            <div class="file-name">
                                {{ f.name }}
                            </div>

                            <div class="file-time">
                                Updated: {{ f.display_time }}
                            </div>
                        </div>

                        <a
                            href="/download/{{ f.name }}"
                            class="btn btn-sm btn-outline-primary">
                            Download
                        </a>

                    </li>
                    {% endfor %}
                </ul>
            </div>
            {% endif %}
        </div>
    </div>
</div>

</body>
</html>
